<ion-content color="light">
  <ion-list [inset]="true">
    <ion-item [button]="true" [detail]="false" id="select-fruits">
      <ion-label>Your country</ion-label>
      <div slot="end" id="selected-fruits" class="orange-font">{{ selectedCountry?.name || 'empty' }}</div>
    </ion-item>
    <ion-item>
      <ion-label class="orange-font"> {{selectedCountry?.code ?? 'Choose country'}}</ion-label>
      <ion-input
        placeholder="xxxxxxxxxxx"
        [disabled]="!selectedCountry"
        [(ngModel)]="phoneNumber"
        [maskito]="phoneMask"
        [maskitoElement]="maskPredicate"
      ></ion-input>
    </ion-item>
  </ion-list>
  <div class="form-action">
    <ion-button
      type="submit"
      [disabled]="!phoneNumber || phoneNumber.length<4"
      class="custom-button orange">Send Code
    </ion-button>
  </div>
</ion-content>

<ion-modal trigger="select-fruits" #modal>
  <ng-template>
    <app-search-country
      class="ion-page"
      title="Select country"
      [items]="countries"
      (selectionChange)="countrySelectionChanged($event)"
      (selectionCancel)="modal.dismiss()"
    ></app-search-country>
  </ng-template>
</ion-modal>
